<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1410px" preserveAspectRatio="none" style="width:695px;height:1410px;background:#FFFFFF;" version="1.1" viewBox="0 0 695 1410" width="695px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="31" x2="31" y1="36.4883" y2="989.8047"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="31" x2="31" y1="989.8047" y2="1017.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="31" x2="31" y1="1017.8047" y2="1374.9102"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="154" x2="154" y1="36.4883" y2="989.8047"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="154" x2="154" y1="989.8047" y2="1017.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="154" x2="154" y1="1017.8047" y2="1374.9102"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="339.5" x2="339.5" y1="36.4883" y2="989.8047"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="339.5" x2="339.5" y1="989.8047" y2="1017.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="339.5" x2="339.5" y1="1017.8047" y2="1374.9102"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="487.5" x2="487.5" y1="36.4883" y2="989.8047"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="487.5" x2="487.5" y1="989.8047" y2="1017.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="487.5" x2="487.5" y1="1017.8047" y2="1374.9102"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="552.5" x2="552.5" y1="36.4883" y2="989.8047"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="552.5" x2="552.5" y1="989.8047" y2="1017.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="552.5" x2="552.5" y1="1017.8047" y2="1374.9102"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="635.5" x2="635.5" y1="36.4883" y2="989.8047"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="635.5" x2="635.5" y1="989.8047" y2="1017.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="635.5" x2="635.5" y1="1017.8047" y2="1374.9102"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="12" y="25.5352">Index</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="5" y="1373.9102"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="12" y="1394.4453">Index</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="128" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="135" y="25.5352">Game</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="128" y="1373.9102"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="135" y="1394.4453">Game</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="54" x="312.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="319.5" y="25.5352">Board</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="54" x="312.5" y="1373.9102"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="319.5" y="1394.4453">Board</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="456.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="463.5" y="25.5352">Square</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="456.5" y="1373.9102"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="463.5" y="1394.4453">Square</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49" x="528.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="535.5" y="25.5352">Piece</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49" x="528.5" y="1373.9102"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="535.5" y="1394.4453">Piece</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="587.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="594.5" y="25.5352">terminal-kit</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="587.5" y="1373.9102"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="594.5" y="1394.4453">terminal-kit</text><polygon fill="#181818" points="142.5,63.7988,152.5,67.7988,142.5,71.7988,146.5,67.7988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="31.5" x2="148.5" y1="67.7988" y2="67.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="38.5" y="63.0566">Instantiate</text><polygon fill="#181818" points="327.5,93.1094,337.5,97.1094,327.5,101.1094,331.5,97.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="333.5" y1="97.1094" y2="97.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="161.5" y="92.3672">Instantiate</text><polygon fill="#181818" points="475.5,122.4199,485.5,126.4199,475.5,130.4199,479.5,126.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="339.5" x2="481.5" y1="126.4199" y2="126.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="346.5" y="121.6777">Instantiate light</text><polygon fill="#181818" points="475.5,151.7305,485.5,155.7305,475.5,159.7305,479.5,155.7305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="339.5" x2="481.5" y1="155.7305" y2="155.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="346.5" y="150.9883">Instantiate dark</text><polygon fill="#181818" points="541,181.041,551,185.041,541,189.041,545,185.041" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="547" y1="185.041" y2="185.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="161.5" y="180.2988">Instantiate pieces</text><polygon fill="#181818" points="327.5,210.3516,337.5,214.3516,327.5,218.3516,331.5,214.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="333.5" y1="214.3516" y2="214.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="161.5" y="209.6094">Place pieces</text><polygon fill="#181818" points="142.5,239.6621,152.5,243.6621,142.5,247.6621,146.5,243.6621" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="31.5" x2="148.5" y1="243.6621" y2="243.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="38.5" y="238.9199">Start game loop</text><polygon fill="#181818" points="623.5,268.9727,633.5,272.9727,623.5,276.9727,627.5,272.9727" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="629.5" y1="272.9727" y2="272.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="161.5" y="268.2305">Clear the screen and hide the cursor</text><polygon fill="#181818" points="623.5,298.2832,633.5,302.2832,623.5,306.2832,627.5,302.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="629.5" y1="302.2832" y2="302.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="368" x="161.5" y="297.541">Register input event handlers and enter terminal raw mode</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="196.5" y1="331.5938" y2="331.5938"/><line style="stroke:#181818;stroke-width:1.0;" x1="196.5" x2="196.5" y1="331.5938" y2="344.5938"/><line style="stroke:#181818;stroke-width:1.0;" x1="155.5" x2="196.5" y1="344.5938" y2="344.5938"/><polygon fill="#181818" points="165.5,340.5938,155.5,344.5938,165.5,348.5938,161.5,344.5938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="161.5" y="326.8516">Update game</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="688.5" x="0" y="373.249"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="688.5" y1="373.249" y2="373.249"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="688.5" y1="376.249" y2="376.249"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="105" x="291.75" y="362.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="91" x="297.75" y="379.1621">Update game</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="196.5" y1="417.2148" y2="417.2148"/><line style="stroke:#181818;stroke-width:1.0;" x1="196.5" x2="196.5" y1="417.2148" y2="430.2148"/><line style="stroke:#181818;stroke-width:1.0;" x1="155.5" x2="196.5" y1="430.2148" y2="430.2148"/><polygon fill="#181818" points="165.5,426.2148,155.5,430.2148,165.5,434.2148,161.5,430.2148" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="161.5" y="412.4727">Check for game end</text><polygon fill="#181818" points="327.5,455.5254,337.5,459.5254,327.5,463.5254,331.5,459.5254" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="333.5" y1="459.5254" y2="459.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="161.5" y="454.7832">Update board</text><polygon fill="#181818" points="541,484.8359,551,488.8359,541,492.8359,545,488.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="339.5" x2="547" y1="488.8359" y2="488.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="346.5" y="484.0938">Update pieces</text><polygon fill="#181818" points="541,529.457,551,533.457,541,537.457,545,533.457" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="339.5" x2="547" y1="533.457" y2="533.457"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="346.5" y="513.4043">Get piece character</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="346.5" y="528.7148">representations</text><polygon fill="#181818" points="350.5,574.0781,340.5,578.0781,350.5,582.0781,346.5,578.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="344.5" x2="552" y1="578.0781" y2="578.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="356.5" y="558.0254">Return piece character</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="356.5" y="573.3359">representations</text><polygon fill="#181818" points="623.5,603.3887,633.5,607.3887,623.5,611.3887,627.5,607.3887" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="339.5" x2="629.5" y1="607.3887" y2="607.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="346.5" y="602.6465">Display squares and pieces</text><polygon fill="#181818" points="165.5,617.3887,155.5,621.3887,165.5,625.3887,161.5,621.3887" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="159.5" x2="338.5" y1="621.3887" y2="621.3887"/><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="196.5" y1="650.6992" y2="650.6992"/><line style="stroke:#181818;stroke-width:1.0;" x1="196.5" x2="196.5" y1="650.6992" y2="663.6992"/><line style="stroke:#181818;stroke-width:1.0;" x1="155.5" x2="196.5" y1="663.6992" y2="663.6992"/><polygon fill="#181818" points="165.5,659.6992,155.5,663.6992,165.5,667.6992,161.5,663.6992" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="161.5" y="645.957">Update game</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="688.5" x="0" y="692.3545"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="688.5" y1="692.3545" y2="692.3545"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="688.5" y1="695.3545" y2="695.3545"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="116" x="286.25" y="681.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="102" x="292.25" y="698.2676">Moving a piece</text><polygon fill="#181818" points="165.5,732.3203,155.5,736.3203,165.5,740.3203,161.5,736.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="159.5" x2="634.5" y1="736.3203" y2="736.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="171.5" y="731.5781">onMouseEvent callback</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="196.5" y1="780.9414" y2="780.9414"/><line style="stroke:#181818;stroke-width:1.0;" x1="196.5" x2="196.5" y1="780.9414" y2="793.9414"/><line style="stroke:#181818;stroke-width:1.0;" x1="155.5" x2="196.5" y1="793.9414" y2="793.9414"/><polygon fill="#181818" points="165.5,789.9414,155.5,793.9414,165.5,797.9414,161.5,793.9414" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="161.5" y="760.8887">Map screen space position</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="161.5" y="776.1992">to game space position</text><polygon fill="#181818" points="327.5,834.5625,337.5,838.5625,327.5,842.5625,331.5,838.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="333.5" y1="838.5625" y2="838.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="161.5" y="818.5098">Check for a piece at</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="161.5" y="833.8203">the selected position</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="196.5" y1="867.873" y2="867.873"/><line style="stroke:#181818;stroke-width:1.0;" x1="196.5" x2="196.5" y1="867.873" y2="880.873"/><line style="stroke:#181818;stroke-width:1.0;" x1="155.5" x2="196.5" y1="880.873" y2="880.873"/><polygon fill="#181818" points="165.5,876.873,155.5,880.873,165.5,884.873,161.5,880.873" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="161.5" y="863.1309">Store selected position</text><polygon fill="#181818" points="327.5,906.1836,337.5,910.1836,327.5,914.1836,331.5,910.1836" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="333.5" y1="910.1836" y2="910.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="161.5" y="905.4414">Highlight selected square</text><polygon fill="#181818" points="475.5,935.4941,485.5,939.4941,475.5,943.4941,479.5,939.4941" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="339.5" x2="481.5" y1="939.4941" y2="939.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="346.5" y="934.752">Set highlighted true</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="196.5" y1="968.8047" y2="968.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="196.5" x2="196.5" y1="968.8047" y2="981.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="155.5" x2="196.5" y1="981.8047" y2="981.8047"/><polygon fill="#181818" points="165.5,977.8047,155.5,981.8047,165.5,985.8047,161.5,981.8047" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="161.5" y="964.0625">Set state to Moving</text><polygon fill="#181818" points="165.5,1035.1152,155.5,1039.1152,165.5,1043.1152,161.5,1039.1152" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="159.5" x2="634.5" y1="1039.1152" y2="1039.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="171.5" y="1034.373">onMouseEvent callback</text><polygon fill="#181818" points="327.5,1064.4258,337.5,1068.4258,327.5,1072.4258,331.5,1068.4258" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="333.5" y1="1068.4258" y2="1068.4258"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="161.5" y="1063.6836">Get square</text><polygon fill="#181818" points="165.5,1093.7363,155.5,1097.7363,165.5,1101.7363,161.5,1097.7363" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="159.5" x2="338.5" y1="1097.7363" y2="1097.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="171.5" y="1092.9941">Return square</text><polygon fill="#181818" points="475.5,1123.0469,485.5,1127.0469,475.5,1131.0469,479.5,1127.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="481.5" y1="1127.0469" y2="1127.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="161.5" y="1122.3047">Set highlighted false</text><polygon fill="#181818" points="541,1152.3574,551,1156.3574,541,1160.3574,545,1156.3574" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="547" y1="1156.3574" y2="1156.3574"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="161.5" y="1151.6152">Move piece to selected position</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="196.5" y1="1185.668" y2="1185.668"/><line style="stroke:#181818;stroke-width:1.0;" x1="196.5" x2="196.5" y1="1185.668" y2="1198.668"/><line style="stroke:#181818;stroke-width:1.0;" x1="155.5" x2="196.5" y1="1198.668" y2="1198.668"/><polygon fill="#181818" points="165.5,1194.668,155.5,1198.668,165.5,1202.668,161.5,1198.668" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="161.5" y="1180.9258">Set state to Selecting</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="688.5" x="0" y="1227.3232"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="688.5" y1="1227.3232" y2="1227.3232"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="688.5" y1="1230.3232" y2="1230.3232"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="130" x="279.25" y="1216.668"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="116" x="285.25" y="1233.2363">Ending the game</text><polygon fill="#181818" points="165.5,1267.2891,155.5,1271.2891,165.5,1275.2891,161.5,1271.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="159.5" x2="634.5" y1="1271.2891" y2="1271.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="171.5" y="1266.5469">onKeyboardEvent callback</text><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="196.5" y1="1300.5996" y2="1300.5996"/><line style="stroke:#181818;stroke-width:1.0;" x1="196.5" x2="196.5" y1="1300.5996" y2="1313.5996"/><line style="stroke:#181818;stroke-width:1.0;" x1="155.5" x2="196.5" y1="1313.5996" y2="1313.5996"/><polygon fill="#181818" points="165.5,1309.5996,155.5,1313.5996,165.5,1317.5996,161.5,1313.5996" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="161.5" y="1295.8574">Set game end true</text><polygon fill="#181818" points="623.5,1338.9102,633.5,1342.9102,623.5,1346.9102,627.5,1342.9102" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="154.5" x2="629.5" y1="1342.9102" y2="1342.9102"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253" x="161.5" y="1338.168">Clear screen and exit terminal raw mode</text><polygon fill="#181818" points="42.5,1352.9102,32.5,1356.9102,42.5,1360.9102,38.5,1356.9102" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="36.5" x2="153.5" y1="1356.9102" y2="1356.9102"/><!--MD5=[ed12f4c56da48b598c9f1c22dc777b23]
@startuml
participant Index
participant Game
participant Board
participant Square
participant Piece
participant "terminal-kit" as term

Index -> Game: Instantiate
Game -> Board: Instantiate
Board -> Square: Instantiate light
Board -> Square: Instantiate dark
Game -> Piece: Instantiate pieces
Game -> Board: Place pieces
Index -> Game: Start game loop
Game -> term: Clear the screen and hide the cursor
Game -> term: Register input event handlers and enter terminal raw mode
Game -> Game: Update game

==Update game==
Game -> Game: Check for game end
Game -> Board: Update board
Board -> Piece: Update pieces
Board -> Piece: Get piece character\nrepresentations
Piece -> Board: Return piece character\nrepresentations
Board -> term: Display squares and pieces
Board -> Game
Game -> Game: Update game

==Moving a piece==
term -> Game: onMouseEvent callback
Game -> Game: Map screen space position\nto game space position
Game -> Board: Check for a piece at\nthe selected position
Game -> Game: Store selected position
Game -> Board: Highlight selected square
Board -> Square: Set highlighted true
Game -> Game: Set state to Moving
...
term -> Game: onMouseEvent callback
Game -> Board: Get square
Board -> Game: Return square
Game -> Square: Set highlighted false
Game -> Piece: Move piece to selected position
Game -> Game: Set state to Selecting

==Ending the game==
term -> Game: onKeyboardEvent callback
Game -> Game: Set game end true
Game -> term: Clear screen and exit terminal raw mode
Game -> Index

@enduml

PlantUML version 1.2022.13(Sat Nov 19 13:22:17 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>